<!DOCTYPE html>
<html>

<head>
    <title>Loading...</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <link href="favicon.ico" rel="icon" type="image/x-icon" />

    <link href="https://fonts.googleapis.com/css?family=Inconsolata:400,700&amp;subset=latin-ext" rel="stylesheet"> 
</head>
<%
    var packageJson = require('../../package.json');
%>
<body>
    <link href="css/codemirror/codemirror.css" rel="stylesheet">
    <link href="css/golden-layout/goldenlayout-base.css" rel="stylesheet">

    <script type="text/javascript">
        var bootstrapThemeName = "default";
        var codemirrorThemeName = "light";
        var goldenlayoutThemeName = "light";
        try{
            window.appThemeNameLocalStorageKey = '<%= packageJson.name %>-<%= packageJson.version %>-theme-storage';
            console.log('storagekey', window.appThemeNameLocalStorageKey);
            var storedTheme = window.localStorage.getItem(window.appThemeNameLocalStorageKey);
            if (storedTheme){
                var theme = JSON.parse(storedTheme);
                bootstrapThemeName = theme.bootstrap;
                codemirrorThemeName = theme.codemirror;
                goldenlayoutThemeName = theme.goldenlayout;

                if (theme.isDark){
                    document.body.className = document.body.className + "is-dark";
                }
            }
        } 
        catch(ex){
        }
        document.write('<link href="css/bootstrap/bootstrap.' + bootstrapThemeName + '.min.css?1" rel="stylesheet">');
        document.write('<link href="css/codemirror/themes/' + codemirrorThemeName + '.css?1" rel="stylesheet">');
        document.write('<link href="css/golden-layout/goldenlayout-' + goldenlayoutThemeName + '-theme.css?1" rel="stylesheet">');
    </script>

   <div id="app-container">
   </div>

   <% for (var css in htmlWebpackPlugin.files.css) { %>
    <link href="<%= htmlWebpackPlugin.files.css[css] %>" rel="stylesheet">
   <% } %>
   <% for (var chunk in htmlWebpackPlugin.files.chunks) { %>
    <script src="<%= htmlWebpackPlugin.files.chunks[chunk].entry %>"></script>
   <% } %>

   <script>
     app.run();
   </script>   
</body>
</html>